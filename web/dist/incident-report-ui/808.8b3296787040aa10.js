"use strict";(self.webpackChunkincident_report_ui=self.webpackChunkincident_report_ui||[]).push([[808],{1808:(U,_,c)=>{c.r(_),c.d(_,{IncidentModule:()=>q});var r=c(6895),p=c(2127),g=c(2831),n=c(1571),I=c(9805),m=c(426),s=c(388),a=c(4006),Z=c(4682),f=c(5331);function v(e,d){if(1&e){const t=n.EpF();n.TgZ(0,"div")(1,"p",4)(2,"button",46),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return n.KtG(i.openEditModal())}),n._uU(3,"Edit this incident"),n.qZA()(),n.TgZ(4,"div",7)(5,"div",47)(6,"a",48),n._uU(7,"Download a PDF of this incident report"),n.qZA()()()()}if(2&e){const t=n.oxw(2);n.xp6(6),n.MGl("href","api/pdf/",t.incident.IncidentInfo.GenericIncidentID,"",n.LSH)}}function T(e,d){if(1&e){const t=n.EpF();n.TgZ(0,"div",4)(1,"div",38)(2,"button",49),n._uU(3," Specify Incident Type "),n._UZ(4,"span",40),n.qZA(),n.TgZ(5,"ul",41)(6,"li")(7,"a",42),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return n.KtG(i.openSubIncidentModal("CityProperty","create"))}),n._uU(8,"City Property"),n.qZA()(),n.TgZ(9,"li")(10,"a",42),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return n.KtG(i.openSubIncidentModal("CityVehicle","create"))}),n._uU(11,"City Vehicle"),n.qZA()(),n.TgZ(12,"li")(13,"a",42),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return n.KtG(i.openSubIncidentModal("Non-City Property","create"))}),n._uU(14,"Non-City Property"),n.qZA()(),n.TgZ(15,"li")(16,"a",42),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return n.KtG(i.openSubIncidentModal("NonCityVehicle","create"))}),n._uU(17,"Non-City Vehicle"),n.qZA()(),n.TgZ(18,"li")(19,"a",42),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return n.KtG(i.openSubIncidentModal("NonEmployeeInjury","create"))}),n._uU(20,"Non-Employee Injury"),n.qZA()(),n.TgZ(21,"li")(22,"a",42),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return n.KtG(i.openSubIncidentModal("Recreation","create"))}),n._uU(23,"Recreation"),n.qZA()()()()()}}function C(e,d){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"currency"),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.Oqu(n.lcZ(2,1,t.Damages))}}function b(e,d){if(1&e){const t=n.EpF();n.TgZ(0,"tr",50),n.NdJ("click",function(){const l=n.CHM(t).$implicit,u=n.oxw(2);return n.KtG(u.openSubIncidentModal(l.IncidentType,"details",l.ID))}),n.TgZ(1,"td")(2,"span",51),n._uU(3),n.qZA()(),n.TgZ(4,"td"),n._uU(5),n.qZA(),n.TgZ(6,"td"),n.YNc(7,C,3,3,"span",5),n.qZA()()}if(2&e){const t=d.$implicit,o=n.oxw(2);n.xp6(2),n.Q6J("ngClass",o.getIncidentClass(t.IncidentType)),n.xp6(1),n.Oqu(t.IncidentType),n.xp6(2),n.Oqu(t.Description),n.xp6(2),n.Q6J("ngIf","City Property"===t.IncidentType||"City Vehicle"===t.IncidentType)}}function y(e,d){if(1&e){const t=n.EpF();n.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4),n._uU(4,"Incident Information"),n.qZA(),n.YNc(5,v,8,1,"div",5),n.YNc(6,T,24,0,"div",6),n.TgZ(7,"div",7)(8,"label",8),n._uU(9," Reporting Date "),n.qZA(),n.TgZ(10,"div",9)(11,"p",10),n._uU(12),n.ALo(13,"date"),n.qZA()(),n.TgZ(14,"label",11),n._uU(15," Date of Incident "),n.qZA(),n.TgZ(16,"div",12)(17,"p",10),n._uU(18),n.ALo(19,"date"),n.qZA()()(),n.TgZ(20,"div",7)(21,"label",13),n._uU(22," Location of Incident "),n.qZA(),n.TgZ(23,"div",14)(24,"p",10),n._uU(25),n.qZA()()(),n.TgZ(26,"p",4)(27,"button",15),n._uU(28,"Show/Hide entire form"),n.qZA()(),n.TgZ(29,"div",16)(30,"div",7)(31,"label",17),n._uU(32," City "),n.qZA(),n.TgZ(33,"div",18)(34,"p",10),n._uU(35),n.qZA()(),n.TgZ(36,"label",19),n._uU(37," State "),n.qZA(),n.TgZ(38,"div",20)(39,"p",10),n._uU(40),n.qZA()(),n.TgZ(41,"label",21),n._uU(42," Zip "),n.qZA(),n.TgZ(43,"div",18)(44,"p",10),n._uU(45),n.qZA()()(),n.TgZ(46,"div",7)(47,"label",22),n._uU(48," Describe what happened "),n.qZA(),n.TgZ(49,"div",14)(50,"p",10),n._uU(51),n.qZA()()(),n.TgZ(52,"div",7)(53,"label",23),n._uU(54," Employee involved in incident "),n.qZA(),n.TgZ(55,"div",14)(56,"p",10),n._uU(57),n.qZA()()(),n.TgZ(58,"div",7)(59,"label",24),n._uU(60,"Was a Police Report Filed?"),n.qZA(),n.TgZ(61,"div",14)(62,"label",25)(63,"input",26),n.NdJ("ngModelChange",function(i){n.CHM(t);const l=n.oxw();return n.KtG(l.incident.IncidentInfo.PoliceReportFiled=i)}),n.qZA(),n._uU(64,"Yes "),n.qZA(),n.TgZ(65,"label",25)(66,"input",27),n.NdJ("ngModelChange",function(i){n.CHM(t);const l=n.oxw();return n.KtG(l.incident.IncidentInfo.PoliceReportFiled=i)}),n.qZA(),n._uU(67,"No "),n.qZA()()(),n.TgZ(68,"div",7)(69,"label",28),n._uU(70,"Report #"),n.qZA(),n.TgZ(71,"div",14)(72,"p",10),n._uU(73),n.qZA()()(),n.TgZ(74,"div",7)(75,"label",29),n._uU(76,"Where Filed?"),n.qZA(),n.TgZ(77,"div",14)(78,"p",10),n._uU(79),n.qZA()()()(),n.TgZ(80,"div",30)(81,"div",31)(82,"h4"),n._uU(83,"Attached Sub-Incidents"),n.qZA()(),n.TgZ(84,"table",32)(85,"thead")(86,"tr")(87,"th",33),n._uU(88,"Incident Type"),n.qZA(),n.TgZ(89,"th",34),n._uU(90,"Description"),n.qZA(),n.TgZ(91,"th"),n._uU(92,"Damages"),n.qZA()()(),n.TgZ(93,"tbody"),n.YNc(94,b,8,4,"tr",35),n.qZA(),n.TgZ(95,"tfoot")(96,"tr")(97,"td",36),n._uU(98),n.qZA(),n.TgZ(99,"td"),n._uU(100),n.ALo(101,"currency"),n.qZA()()()(),n.TgZ(102,"div",37)(103,"div",38)(104,"button",39),n._uU(105," Add New Sub-Incident "),n._UZ(106,"span",40),n.qZA(),n.TgZ(107,"ul",41)(108,"li")(109,"a",42),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.openSubIncidentModal("CityProperty","create"))}),n._uU(110,"City Property"),n.qZA()(),n.TgZ(111,"li")(112,"a",42),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.openSubIncidentModal("CityVehicle","create"))}),n._uU(113,"City Vehicle"),n.qZA()(),n.TgZ(114,"li")(115,"a",42),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.openSubIncidentModal("Non-City Property","create"))}),n._uU(116,"Non-City Property"),n.qZA()(),n.TgZ(117,"li")(118,"a",42),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.openSubIncidentModal("NonCityVehicle","create"))}),n._uU(119,"Non-City Vehicle"),n.qZA()(),n.TgZ(120,"li")(121,"a",42),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.openSubIncidentModal("NonEmployeeInjury","create"))}),n._uU(122,"Non-Employee Injury"),n.qZA()(),n.TgZ(123,"li")(124,"a",42),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.openSubIncidentModal("Recreation","create"))}),n._uU(125,"Recreation"),n.qZA()()()()()()()(),n.TgZ(126,"div",43)(127,"div",1),n._UZ(128,"assignments-for-incident",44),n.qZA(),n.TgZ(129,"div",1),n._UZ(130,"attachments",45),n.qZA()()()}if(2&e){const t=n.oxw();n.xp6(5),n.Q6J("ngIf",t.incident.SubIncidents.length>0),n.xp6(1),n.Q6J("ngIf",0===t.incident.SubIncidents.length),n.xp6(6),n.Oqu(n.xi3(13,20,t.incident.IncidentInfo.ReportingDate,t.constant.DateFormatUi)),n.xp6(6),n.Oqu(n.xi3(19,23,t.incident.IncidentInfo.IncidentDate,t.constant.DateFormatUi)),n.xp6(7),n.Oqu(t.incident.IncidentInfo.LocationOfIncident),n.xp6(10),n.Oqu(t.incident.IncidentInfo.City),n.xp6(5),n.Oqu(t.incident.IncidentInfo.State),n.xp6(5),n.Oqu(t.incident.IncidentInfo.Zip),n.xp6(6),n.Oqu(t.incident.IncidentInfo.Description),n.xp6(6),n.Oqu(t.incident.IncidentInfo.EmployeeInvolved),n.xp6(6),n.Q6J("ngModel",t.incident.IncidentInfo.PoliceReportFiled),n.xp6(3),n.Q6J("ngModel",t.incident.IncidentInfo.PoliceReportFiled),n.xp6(7),n.Oqu(t.incident.IncidentInfo.ReportNum),n.xp6(6),n.Oqu(t.incident.IncidentInfo.WherePDReportFiled),n.xp6(15),n.Q6J("ngForOf",t.incident.SubIncidents),n.xp6(4),n.hij("",t.incident.SubIncidents.length," total sub-incidents"),n.xp6(2),n.Oqu(n.lcZ(101,26,t.getTotalDamages())),n.xp6(28),n.Q6J("genericId",t.incident.IncidentInfo.GenericIncidentID)("description",t.incident.IncidentInfo.LocationOfIncident),n.xp6(2),n.Q6J("genericId",t.incident.IncidentInfo.GenericIncidentID)}}const x=[{path:"",component:(()=>{class e{constructor(t,o,i,l,u){this.incidentService=t,this.alertService=o,this.router=i,this.route=l,this.modalService=u,this.constant=g.s,this.incident=null,this.id=0}ngOnInit(){this.route.paramMap.subscribe(t=>{this.id=Number(t.get("id")),this.incidentService.getGenericIncident(this.id,this.constant.IncidentTypes.Incident).subscribe({next:o=>{this.incident=o},error:o=>{this.alertService.error("Error fetching notice of claim.")}})})}getIncidentClass(t){switch(t){case"Recreation":return"label-primary";case"City Property":return"label-success";case"Non-City Property":default:return"label-default";case"City Vehicle":return"label-info";case"Non-City Vehicle":return"label-warning";case"Non-Employee Injury":return"label-danger"}}getTotalDamages(){let t=0;return this.incident.SubIncidents.forEach(function(o){t+=o.Damages}),t}openEditModal(){}openSubIncidentModal(t,o,i){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(I.g),n.Y36(m.c),n.Y36(p.F0),n.Y36(p.gz),n.Y36(s.tT))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-incident"]],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-lg-7","col-md-7"],[1,"well","form-horizontal"],[1,"text-center"],[4,"ngIf"],["class","text-center",4,"ngIf"],[1,"form-group"],["for","ReportingDate",1,"col-md-3","control-label"],[1,"col-lg-3","col-md-3"],[1,"form-control-static"],["for","IncidentDate",1,"col-md-3","control-label"],[1,"col-md-3"],["for","LocationOfIncident",1,"col-md-3","control-label"],[1,"col-md-9"],["type","button","data-toggle","collapse","data-target","#collapseForm",1,"btn","btn-primary"],["id","collapseForm",1,"collapse"],["for","City",1,"col-md-3","control-label"],[1,"col-lg-2","col-md-3"],["for","State",1,"col-lg-2","col-md-3","control-label"],[1,"col-lg-1","col-md-3"],["for","Zip",1,"col-lg-2","col-md-3","control-label"],["for","Description",1,"col-md-3","control-label"],["for","EmployeeInvolved",1,"col-md-3","control-label"],["for","PoliceReportFiled",1,"col-md-3","control-label"],[1,"radio-inline"],["type","radio","disabled","","value","true",3,"ngModel","ngModelChange"],["type","radio","disabled","","value","false",3,"ngModel","ngModelChange"],["for","ReportNum",1,"col-md-3","control-label"],["for","WherePDReportFiled",1,"col-md-3","control-label"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"table","table-hover"],["width","10%"],["width","80%"],["class","incidentList",3,"click",4,"ngFor","ngForOf"],["colspan","2"],[1,"panel-footer"],[1,"btn-group"],["type","button","data-toggle","dropdown",1,"btn","btn-primary","dropdown-toggle"],[1,"caret"],[1,"dropdown-menu"],[3,"click"],[1,"col-md-5"],[3,"genericId","description"],[3,"genericId"],[1,"btn","btn-primary",3,"click"],[1,"col-md-12","text-center"],["target","_blank",1,"btn","btn-primary",3,"href"],["type","button","data-toggle","dropdown",1,"btn","btn-danger","dropdown-toggle"],[1,"incidentList",3,"click"],[1,"label",3,"ngClass"]],template:function(t,o){1&t&&n.YNc(0,y,131,28,"div",0),2&t&&n.Q6J("ngIf",o.incident)},dependencies:[r.mk,r.sg,r.O5,a.Fj,a._,a.JJ,a.On,Z.A,f.Y,r.H9,r.uU]}),e})()}];let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[p.Bz.forChild(x),p.Bz]}),e})();var A=c(9994);let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[r.ez,h,a.u5,s.zk.forRoot(),A.n]}),e})()}}]);